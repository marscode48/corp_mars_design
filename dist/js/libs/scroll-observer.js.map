{"version":3,"file":"scroll-observer.js","names":["ScrollObserver","els","cb","options","document","querySelectorAll","defaultOptions","root","rootMargin","threshold","once","Object","assign","_init","callback","entries","observer","forEach","entry","isIntersecting","target","unobserve","io","IntersectionObserver","bind","POLL_INTERVAL","el","observe"],"sources":["libs/scroll-observer.js"],"sourcesContent":["class ScrollObserver {\n  constructor(els, cb, options) {\n    this.els = document.querySelectorAll(els);\n    const defaultOptions = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0,\n      once: true,\n    };\n    this.cb = cb;\n    this.options = Object.assign(defaultOptions, options);\n    this.once = this.options.once;\n    this._init();\n  }\n\n  _init() {\n    const callback = function (entries, observer) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.cb(entry.target, true);\n          if (this.once) {\n            observer.unobserve(entry.target);\n          }\n        } else {\n          this.cb(entry.target, false);\n        }\n      });\n    };\n\n    this.io = new IntersectionObserver(callback.bind(this), this.options);\n\n    // @see https://github.com/w3c/IntersectionObserver/tree/master/polyfill\n    this.io.POLL_INTERVAL = 100;\n\n    this.els.forEach((el) => this.io.observe(el));\n  }\n}\n"],"mappings":";;;;;;;;IAAMA,c;EACJ,wBAAYC,GAAZ,EAAiBC,EAAjB,EAAqBC,OAArB,EAA8B;IAAA;;IAC5B,KAAKF,GAAL,GAAWG,QAAQ,CAACC,gBAAT,CAA0BJ,GAA1B,CAAX;IACA,IAAMK,cAAc,GAAG;MACrBC,IAAI,EAAE,IADe;MAErBC,UAAU,EAAE,KAFS;MAGrBC,SAAS,EAAE,CAHU;MAIrBC,IAAI,EAAE;IAJe,CAAvB;IAMA,KAAKR,EAAL,GAAUA,EAAV;IACA,KAAKC,OAAL,GAAeQ,MAAM,CAACC,MAAP,CAAcN,cAAd,EAA8BH,OAA9B,CAAf;IACA,KAAKO,IAAL,GAAY,KAAKP,OAAL,CAAaO,IAAzB;;IACA,KAAKG,KAAL;EACD;;;;WAED,iBAAQ;MAAA;;MACN,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAUC,OAAV,EAAmBC,QAAnB,EAA6B;QAAA;;QAC5CD,OAAO,CAACE,OAAR,CAAgB,UAACC,KAAD,EAAW;UACzB,IAAIA,KAAK,CAACC,cAAV,EAA0B;YACxB,KAAI,CAACjB,EAAL,CAAQgB,KAAK,CAACE,MAAd,EAAsB,IAAtB;;YACA,IAAI,KAAI,CAACV,IAAT,EAAe;cACbM,QAAQ,CAACK,SAAT,CAAmBH,KAAK,CAACE,MAAzB;YACD;UACF,CALD,MAKO;YACL,KAAI,CAAClB,EAAL,CAAQgB,KAAK,CAACE,MAAd,EAAsB,KAAtB;UACD;QACF,CATD;MAUD,CAXD;;MAaA,KAAKE,EAAL,GAAU,IAAIC,oBAAJ,CAAyBT,QAAQ,CAACU,IAAT,CAAc,IAAd,CAAzB,EAA8C,KAAKrB,OAAnD,CAAV,CAdM,CAgBN;;MACA,KAAKmB,EAAL,CAAQG,aAAR,GAAwB,GAAxB;MAEA,KAAKxB,GAAL,CAASgB,OAAT,CAAiB,UAACS,EAAD;QAAA,OAAQ,MAAI,CAACJ,EAAL,CAAQK,OAAR,CAAgBD,EAAhB,CAAR;MAAA,CAAjB;IACD"}