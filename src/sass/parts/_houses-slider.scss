@use "../globals" as *;

.houses {

  & .swiper {
    margin-bottom: 20px;
    overflow-y: visible;
    overflow-x: hidden;
    padding-top: 20px;
    
    @include mq(lg) {
      &:hover .slide:not(:hover) {
        opacity: 0.3;
      }
    }
  }

  & .swiper-wrapper {
    transition-timing-function: linear !important;
  }

  & .swiper-slide {
    width: max-content;
  }

  & .slide {
    overflow: hidden;
    width: 14rem;

    @include mq(lg) {
      width: 20rem;

      transition: all .25s ease-out;

      &:hover {
        transform: translateY(-16px);

      }
      &:hover img {
        transform: translateY(0);
      }
    }
  }

  & .slide-media {
    position: relative;
    overflow: hidden;
    padding-top: 100%;

    & img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: calc(100% + 16px);
      transform: translateY(-16px);
      object-fit: cover;
      transition: all .25s ease-out;
    }
  }
}

.houses-page {
  overflow: hidden;

  & .swiper {
    max-width: 720px;
    margin: auto;
  }

  & .swiper-main {
    overflow: visible;
  }

  & .swiper-thumb {
    padding-top: 8px;
  }

  // & .swiper-fade .swiper-slide {
  //   transition-property: opacity, -webkit-transform !important;
  //   transition-property: opacity, transform !important;
  //   transition-property: opacity, transform, -webkit-transform !important;
  //   pointer-events: none;
  // }

  & .swiper-fade .swiper-slide-active {
    pointer-events: auto;
  }

  & .swiper-controller {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    padding-top: 62.5%;
  }

  & .swiper-button-prev, & .swiper-button-next {
    display: grid;
    place-content: center;
    width: 6.4rem;
    height: 6.4rem;
    cursor: pointer;
    transition: .8s cubic-bezier(.2, 1, .2, 1);
    position: absolute;
    z-index: 1;
    top: 0;
    bottom: 0;
    margin: auto;
  }

  & .swiper-button-prev::before, & .swiper-button-next::before {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    content: "";
    border-radius: 50%;
    box-shadow: .8rem .8rem 1.2rem rgba(0, 0, 0, .05), -.8rem -.8rem 1.2rem #fff;
  }

  & .swiper-button-prev::after, & .swiper-button-next::after {
    width: 1.2rem;
    height: 1.2rem;
    content: "";
    border: solid #ddd;
    border-width: 3px 3px 0 0;
  }

  & .swiper-button-prev {
    right: calc(100% + 3.2rem);

    &::after {
      margin-left: 0.4rem;
      transform: rotate(-135deg);
    }
  }

  & .swiper-button-next {
    left: calc(100% + 3.2rem);

    &::after {
      margin-right: 0.4rem;
      -webkit-transform: rotate(45deg);
              transform: rotate(45deg);
    }
  }

  & .swiper-button-disabled {
    pointer-events: none;
    opacity: 0;
  }

  & .swiper-scrollbar {
    position: relative;
    margin-top: 1.6rem;

    &::after {
      position: absolute;
      z-index: -1;
      top: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 4px;
      margin: auto;
      content: "";
      background-color: #eee;
    }
  }

  & .swiper-scrollbar-drag {
    height: 20px;
    padding: 8px 0;
    cursor: pointer;
    background-color: #f5695f;
    background-clip: content-box;

    &:active {
      background-color: #f5695f;
    }
  }

  & .slide {
    display: block;
    overflow: hidden;
  }

  & .slide-media, & .thumb-media {
    position: relative;
    overflow: hidden;
  }

  & .slide-media img, & .thumb-media img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  & .slide-media {
    padding-top: 62.5%;
    border-radius: 4px;
  }

  & .slide-media img {
    object-fit: contain;
  }

  & .slide-title {
    font-weight: bold;
    line-height: 1.6;
    padding: 3.2rem 0;
  }

  & .thumb-media {
    padding-top: 100%;
    transition: .8s cubic-bezier(.2, 1, .2, 1);
    border-radius: 4px;

    & img {
      height: calc(100% + 8px);
      transition: .8s cubic-bezier(.2, 1, .2, 1);
      transform: translateY(-8px);
    }
  }

  & .swiper-slide-thumb-active {
    transition: .8s cubic-bezier(.2, 1, .2, 1);
    opacity: 0.3;

    & .thumb-media {
      transform: translateY(-8px);

      & img {
        transform: translateY(0);
      }
    }
  }
}
